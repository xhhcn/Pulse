---
import Icon from './Icon.astro';
---

<div id="system-table-header-row" class="grid grid-cols-[minmax(160px,max-content)_minmax(85px,1fr)_minmax(90px,1fr)_minmax(130px,1.6fr)_minmax(130px,1.6fr)_minmax(130px,1.6fr)_minmax(95px,1fr)_minmax(90px,1fr)] items-center gap-1 border-b border-[#404040]/50 dark:border-[#404040]/50 border-[#a3a3a3]/50 bg-[#1c1c1c] dark:bg-[#1c1c1c] bg-white px-3 sm:px-4 md:px-6 py-2 sm:py-3 text-[10px] sm:text-xs font-medium tracking-wide text-[#737373] dark:text-[#737373] text-[#404040]">
  <div class="h-5 flex items-center gap-1.5">
    <Icon name="server" size={14} class="w-3.5 h-3.5 sm:w-[14px] sm:h-[14px]" />
    <span data-translate="system">Service</span>
  </div>
  <div class="h-5 flex items-center gap-1.5">
    <Icon name="clock" size={14} class="w-3.5 h-3.5 sm:w-[14px] sm:h-[14px]" />
    <span data-translate="time">Time</span>
  </div>
  <div class="h-5 flex items-center gap-1.5">
    <Icon name="map-pin" size={14} class="w-3.5 h-3.5 sm:w-[14px] sm:h-[14px]" />
    <span data-translate="location">Location</span>
  </div>
  <div class="h-5 flex items-center gap-1.5 pr-2 sm:pr-3 min-w-0 w-full">
    <Icon name="cpu" size={14} class="w-3.5 h-3.5 sm:w-[14px] sm:h-[14px]" />
    <span data-translate="cpu">CPU</span>
  </div>
  <div class="h-5 flex items-center gap-1.5 pr-2 sm:pr-3 min-w-0 w-full">
    <Icon name="memory-stick" size={14} class="w-3.5 h-3.5 sm:w-[14px] sm:h-[14px]" />
    <span data-translate="memory">Memory</span>
  </div>
  <div class="h-5 flex items-center gap-1.5 pr-2 sm:pr-3 min-w-0 w-full">
    <Icon name="hard-drive" size={14} class="w-3.5 h-3.5 sm:w-[14px] sm:h-[14px]" />
    <span data-translate="disk">Disk</span>
  </div>
  <div class="h-5 flex items-center gap-1.5">
    <Icon name="network" size={14} class="w-3.5 h-3.5 sm:w-[14px] sm:h-[14px]" />
    <span data-translate="net">Net</span>
    <Icon name="arrow-up-down" size={12} class="w-3 h-3 sm:w-3 sm:h-3" />
  </div>
  <div class="h-5 flex items-center justify-center gap-1.5 w-full">
    <Icon name="computer" size={14} class="w-3.5 h-3.5 sm:w-[14px] sm:h-[14px]" />
    <span data-translate="os">OS</span>
  </div>
</div>

<script>
  const translations = {
    'system': { en: 'Service', zh: '服务' },
    'time': { en: 'Time', zh: '运行时间' },
    'location': { en: 'Location', zh: '位置' },
    'cpu': { en: 'CPU', zh: 'CPU' },
    'memory': { en: 'Memory', zh: '内存' },
    'disk': { en: 'Disk', zh: '磁盘' },
    'net': { en: 'Net', zh: '网络' },
    'os': { en: 'OS', zh: '系统' },
  };
  
  function updateTranslations() {
    const lang = localStorage.getItem('preferred-language') || 'en';
    document.querySelectorAll('[data-translate]').forEach(el => {
      const key = el.getAttribute('data-translate');
      if (key && translations[key]) {
        el.textContent = translations[key][lang];
      }
    });
  }
  
  window.addEventListener('languagechange', updateTranslations);
  window.addEventListener('translate', updateTranslations);
  
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', updateTranslations);
  } else {
    updateTranslations();
  }
</script>